# Todo Application

A todo app with a React frontend and a C#.NET backend using Entity Framework Core SQLite.

# Getting Started

### Prerequisites

- .NET SDK (.NET 9)
- Entity Framework Core CLI tools
- Node.js and npm

### Backend Setup

1. Navigate to the `backend` directory.
2. Run the following command to restore dependencies:
   ```bash
   dotnet restore
   ```
3. Set up the EF Core database:
   ```bash
   dotnet ef database update
   ```
4. Run the application:
   ```bash
   dotnet run
   ```

### Frontend Setup

1. Navigate to the `frontend` directory.
2. Install dependencies:
   ```bash
   npm install
   ```
3. Start the React application:
   ```bash
   npm run dev
   ```

### Usage Instructions
Nagivate to `http://localhost:5173/` for frontend

Nagivate to `http://localhost:7299/` for backend (swagger)

### Notes
* The backend port is specified in `src\backend\Properties\launchSettings.json` and `src\frontend\config\apiConfig.ts`, and is set to `7299` for demo purposes.
* The frontend port is used in `src\backend\Program.cs` and defaults to Viteâ€™s default of `5173`.

# Features
1. Create, read, update, and delete todo lists with a title and completion status.
2. Create, read, update, and delete todo items with a title.
3. Responsive layout for all devices.
4. Enforces HTTPS for secure connections.
5. Swagger UI for API documentation and testing.
6. Uses dependency injection for easier testing.
7. Soft deletes items in the database; allows undeletion.

### Stretch Goal Features (not implemented but considered in the design)
1. Add due dates to items; highlight overdue tasks.
2. Support virtual scrolling for large lists.
3. Add pagination for scaling item counts.
4. Enable sorting and filtering.
5. Provide client-side search.
6. Add sign-in and sign-up functionality.
7. Support offline use and syncing.
8. Display due dates in the user's timezone.
9. Allow users to share or access other users' lists; support read-only mode.

# Database Design

### TodoList
| Name        | Type    | Description |
|-------------|---------|-------------|
| Id          | int     | Unique identifier for the list, generated by the database. |
| Name        | string  | The name of the list, editable by the user. |
| OwnerId     | GUID    | The user who owns the list. |
| IsDeleted   | bool    | Marks the list as deleted without removing it from the database. |
| CreatedDate | Datetime| Timestamp when the list was created. |
| UpdatedDate | Datetime| Timestamp when the list was last updated. |

### TodoItem
| Name        | Type    | Description |
|-------------|---------|-------------|
| TodoItemId  | int     | Unique identifier for the item, generated by the database. |
| TodoListId  | int     | The list this item belongs to. |
| Title       | string  | The text for the todo item. |
| IsCompleted | bool    | Indicates if the item is completed. |
| IsDeleted   | bool    | Marks the item as deleted without removing it from the database. |
| CreatedDate | Datetime| Timestamp when the item was created. |
| UpdatedDate | Datetime| Timestamp when the item was last updated. |

## Database Designs Not Included in MVP

### Users
| Name        | Type    | Description |
|-------------|---------|-------------|
| Id          | GUID    | Unique identifier for the user. |
| Username    | string  | Used for sign-in. |
| PasswordSalt| string  | Salt for password hashing. |
| PasswordHash| string  | Hashed password. |
| CreatedDate | Datetime| Timestamp when the user was created. |
| UpdatedDate | Datetime| Timestamp when the user was last updated. |

### Tags
| Name        | Type    | Description |
|-------------|---------|-------------|
| Id          | int     | Unique identifier for the tag. |
| ListId      | int     | The list this tag is associated with. |
| CreatedDate | Datetime| Timestamp when the tag was created. |
| UpdatedDate | Datetime| Timestamp when the tag was last updated. |

### TodoItemTags
| Name        | Type    | Description |
|-------------|---------|-------------|
| TagId       | int     | References Tags.Id. |
| TodoItemId  | int     | References TodoItem.TodoItemId. |

## Tests
### Backend
* You can run backend tests by navigating to `src/backend/Tests/EzraTodo.Api.Tests` and running `dotnet test`.
* The handler tests cover the core business logic.
* Only happy path unit tests are included in the MVP.

### Frontend Tests

* You can run frontend tests by navigating to `src/frontend/` and running `npm test`.
* The component tests focus on expected user interactions and UI behavior for the MVP.

### Negative tests

Here are some examples of negative tests that could be implemented:

#### Backend Negative Tests
- Attempt to create a todo list or item with missing required fields (e.g., empty name/title).
- Try to update or delete a todo list/item that does not exist.
- Send requests with invalid data types (e.g., a string instead of an int for IDs).
- Try to access soft-deleted items/lists.
- Test API endpoints with malformed JSON payloads.
- Attempt to assign a todo item to a non-existent list.

#### Frontend Negative Tests
- Try submitting forms with empty or invalid fields.
- Simulate network errors and verify error handling in the UI.
- Attempt to interact with deleted or non-existent items/lists.
- Test UI behavior when the backend returns error responses.
- Try to update a todo item with an excessively long title.